<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XMLHttpRequest_基本使用</title>
</head>
<!-- XMLHttpRequest(XHR)对象用于与服务器交互。通过XMLHttpRequest可以在不刷新页面的情况下请求特定URL，获取数据。
    这允许网页在不影响用户操作的情况下，更新页面的局部内容。XMLHttpRequest在AJAX编程中被大量使用
    与axios关系：axios内部就是采用XMLHttpRequest与服务器交互
    步骤：
    1.创建XMLHttpRequest对象
    2.配置请求方法和请求url地址
    3.监听loadend事件，接收相应结果
    4.send()方法发起请求 -->
<body>
    <p class="my-p"></p>
    <!-- 使用XMLHttpRequest对象与服务器通信 -->
    <script>
        //1.创建XMLHttpRequest对象
        const xhr = new XMLHttpRequest()
        //2.配置请求方法和请求url地址,请求方法要自己写
        xhr.open('GET','http://hmajax.itheima.net/api/province')
        //3.监听loadend事件，接收相应结果
        xhr.addEventListener('loadend',()=>{
            console.log(xhr.response);
            // Json.parse将数据变为json格式
            const data = JSON.parse(xhr.response)
            console.log(data);
            console.log(data.list.join('<br>'));
            document.querySelector('.my-p').innerHTML = data.list.join('<br>')
        })
        //4.send()方法发起请求
        xhr.send();
    </script>

</body>
</html>